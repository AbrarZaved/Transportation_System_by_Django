<div id="message-container" class="fixed top-5 right-5 z-[9999] space-y-2 w-auto max-w-sm">
  <style>
    @keyframes fadeout {
      to {
        opacity: 0;
        transform: translateY(-10px);
      }
    }
  </style>

  {% if messages %}
    {% for message in messages %}
      <div class="flex items-start gap-3 p-4 rounded-lg shadow-lg text-sm font-medium transition-all duration-300
        {% if message.tags == 'success' %} bg-green-100 text-green-800
        {% elif message.tags == 'error' %} bg-red-100 text-red-800
        {% elif message.tags == 'warning' %} bg-yellow-100 text-yellow-800
        {% else %} bg-blue-100 text-blue-800
        {% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const messages = document.querySelectorAll('#message-container > div');
      messages.forEach((msg, index) => {
        setTimeout(() => {
          msg.style.animation = 'fadeout 0.5s ease-in-out forwards';
          setTimeout(() => msg.remove(), 500);
        }, 2000 + index * 200); // slight stagger if multiple
      });
    });
  </script>
</div>
